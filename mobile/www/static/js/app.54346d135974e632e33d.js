webpackJsonp([1],{"072Y":function(e,t){},"0WH+":function(e,t){},"0tBY":function(e,t){},"36AB":function(e,t){},"L+b5":function(e,t){},M93x:function(e,t,a){"use strict";var s={name:"menucomp",components:{},props:[],data:function(){return{Username:"",userRole:"",userId:""}},computed:{},mounted:function(){localStorage.Role&&(this.userRole=localStorage.Role),localStorage.IdUser&&(this.userId="/user/edit-user/"+localStorage.IdUser),localStorage.Username&&(this.Username=localStorage.Username)},methods:{disconnectUser:function(){window.localStorage.removeItem("AccessKey"),window.localStorage.removeItem("IdUser"),window.localStorage.removeItem("Role"),window.localStorage.removeItem("Username"),window.localStorage.removeItem("Email"),this.$parent.AccessKey="",this.$router.push("/")}}},n={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",{staticClass:"menucomp",attrs:{"xmlns:v-on":"http://www.w3.org/1999/xhtml"}},[a("link",{attrs:{href:"https://fonts.googleapis.com/css?family=EB+Garamond&display=swap",rel:"stylesheet"}}),e._v(" "),a("div",{staticClass:"div_menu"},[a("router-link",{attrs:{to:"/"}},[a("h1",{staticClass:"menu_title"},[e._v("Time Manager")])]),e._v(" "),""!=e.$parent.AccessKey?a("img",{staticClass:"disconnect",attrs:{src:"https://img.icons8.com/material-outlined/24/000000/shutdown.png"},on:{click:e.disconnectUser}}):e._e()],1),e._v(" "),""!=e.$parent.AccessKey?a("div",{staticClass:"div_sous_menu"},[a("ul",{staticClass:"ul_menu"},[a("li",[a("router-link",{attrs:{to:"/working-times"}},[e._v("WORKING TIMES")])],1),e._v(" "),a("li",[a("router-link",{attrs:{to:"/clock-manager"}},[e._v("CLOCK MANAGER")])],1),e._v(" "),a("li",[a("router-link",{attrs:{to:"/chart-manager"}},[e._v("CHART MANAGER")])],1),e._v(" "),3!=e.userRole?a("li",[a("router-link",{attrs:{to:"/user"}},[e._v(e._s(this.Username.toUpperCase()))])],1):e._e(),e._v(" "),3==e.userRole?a("li",[a("router-link",{attrs:{to:e.userId}},[e._v(e._s(this.Username.toUpperCase()))])],1):e._e()])]):e._e()])},staticRenderFns:[]};var r=a("VU/8")(s,n,!1,function(e){a("abJt")},"data-v-4e4c51a7",null).exports,o=a("mtWM"),i=a.n(o),l={name:"connexion",components:{},props:[],data:function(){return{email:"",password:"",error_conn:""}},computed:{},mounted:function(){},methods:{submit:function(){this.ConnectUser().then(this.redirection)},ConnectUser:function(){var e=this;return i()({method:"post",url:"http://localhost:4000/api/users/sign_in",data:{email:this.email,password:this.password}}).then(function(t){return e.error_conn="",localStorage.AccessKey=t.data.jwt,localStorage.IdUser=t.data.idCurrentUser,localStorage.Role=t.data.roleCurrentUser,e.$parent.AccessKey=t.data.jwt,i()({method:"get",url:"http://localhost:4000/api/users/"+localStorage.IdUser,headers:{Authorization:"Bearer "+t.data.jwt}}).then(function(e){localStorage.Username=e.data.data.username,localStorage.Email=e.data.data.email}).catch(function(e){console.log(e)})}).catch(function(t){e.error_conn="Connexion failed",console.log(t)})}}},c={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",{staticClass:"connexion"},[a("form",{on:{submit:function(t){return t.preventDefault(),e.submit()}}},[a("ul",{staticClass:"form-style-1"},[a("li",[e._m(0),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],staticClass:"field-long",attrs:{type:"text",name:"field3",placeholder:"Email"},domProps:{value:e.email},on:{input:function(t){t.target.composing||(e.email=t.target.value)}}})]),e._v(" "),a("li",[e._m(1),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],staticClass:"field-long",attrs:{type:"password",name:"field3"},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}})]),e._v(" "),""!=e.error_conn?a("li",[a("span",{staticStyle:{color:"red"}},[e._v(e._s(e.error_conn))])]):e._e(),e._v(" "),e._m(2)])])])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("label",[this._v("Email "),t("span",{staticClass:"required"},[this._v("*")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("label",[this._v("Password"),t("span",{staticClass:"required"},[this._v("*")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("li",[t("input",{attrs:{type:"submit",value:"Connexion"}})])}]};var u={name:"index",components:{MenuComp:r,Connexion:a("VU/8")(l,c,!1,function(e){a("TbjT")},"data-v-24dfacd6",null).exports},props:[],data:function(){return{AccessKey:""}},computed:{},mounted:function(){localStorage.AccessKey&&(this.AccessKey=localStorage.AccessKey)},methods:{}},d={render:function(){var e=this.$createElement,t=this._self._c||e;return t("section",{staticClass:"index"},[t("MenuComp"),this._v(" "),""==this.AccessKey?t("Connexion"):this._e()],1)},staticRenderFns:[]};var m=a("VU/8")(u,d,!1,function(e){a("36AB")},"data-v-16e70e8d",null).exports;window.$=a("7t+N");var h={name:"app",components:{Index:m},data:function(){return{IdUser:"",Role:"",Username:"",Email:""}},computed:{},mounted:function(){},methods:{}},p={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("Index"),this._v(" "),t("router-view")],1)},staticRenderFns:[]};var v=a("VU/8")(h,p,!1,function(e){a("yz1J")},null,null);t.a=v.exports},NHnr:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){var t=a("7+uW"),s=a("M93x"),n=a("PJh5"),r=a.n(n),o=a("cHtD"),i=a("QEVx"),l=a.n(i),c=a("suTU"),u=(a.n(c),a("0UmN")),d=a.n(u),m=a("rifk"),h=a.n(m),p=a("7t+N"),v=a.n(p);window.jQuery=v.a,window.$=v.a,t.a.use(h.a,{dialog:!0,dynamic:!0,dynamicDefaults:{clickToClose:!1}}),t.a.prototype.moment=r.a,t.a.config.productionTip=!1,t.a.use(o.a),t.a.use(l.a),e.Raphael=d.a,new t.a({router:o.a,render:function(e){return e(s.a)}}).$mount("#app")}.call(t,a("DuR2"))},TVL7:function(e,t){},TbjT:function(e,t){},Tmpv:function(e,t){},TtV6:function(e,t){},abJt:function(e,t){},cHtD:function(e,t,a){"use strict";var s=a("7+uW"),n=a("/ocq"),r=a("mvHQ"),o=a.n(r),i=a("mtWM"),l=(a("CqLJ"),a("X+p2")),c={name:"clock-manager",components:{},props:[],data:function(){return{Role:"",dataBack:"",dataUser:"",userDisplay:!1,ClockState:"",ClockInitTime:"",ClockTime:""}},computed:{},mounted:function(){this.getClockTime(),localStorage.Role&&(this.Role=localStorage.Role);var e=this;i({method:"get",url:"http://localhost:4000/api/users",headers:{Authorization:"Bearer "+localStorage.AccessKey}}).then(function(t){e.dataUser=t.data.data}).catch(function(e){console.log(o()(e,null,2))}),i.get("http://localhost:4000/api/clocks",{params:{start:"",end:""},headers:{Authorization:"Bearer "+localStorage.AccessKey}}).then(function(t){t.data.data.forEach(function(e,a){t.data.data[a].username="",i.get("http://localhost:4000/api/users/"+e.user,{params:{start:"",end:""},headers:{Authorization:"Bearer "+localStorage.AccessKey}}).then(function(e){t.data.data[a].username=e.data.data.username}).catch(function(e){console.log(o()(e,null,2))})}),e.dataBack=t.data.data}).catch(function(e){console.log(o()(e,null,2))})},methods:{redirectWorkingTime:function(e){this.$router.push("/clock-manager/"+e)},displayUsers:function(){this.userDisplay=!0},useClock:function(){var e=this;i({method:"get",url:"http://localhost:4000/api/clocks/"+localStorage.IdUser,headers:{Authorization:"Bearer "+localStorage.AccessKey}}).then(function(t){return 0==t.data.data.length||0==t.data.data[0].status?(console.log("Start the clock"),i({method:"post",url:"http://localhost:4000/api/clocks/"+localStorage.IdUser,data:{clocking:{time:new Date,status:!0}},headers:{Authorization:"Bearer "+localStorage.AccessKey}}).then(function(t){e.ClockState=1,e.getClockTime();var a=setInterval(function(){e.refreshClockDifference(),1!=e.ClockState&&clearInterval(a)},1e3)}).catch(function(e){console.log(e)})):(console.log("Stop the clock"),i({method:"post",url:"http://localhost:4000/api/clocks/"+localStorage.IdUser,data:{clocking:{time:new Date,status:!1}},headers:{Authorization:"Bearer "+localStorage.AccessKey}}).then(function(t){e.ClockState=0,e.ClockTime="",i({method:"post",url:"http://localhost:4000/api/workingtimes/"+localStorage.IdUser,data:{working_time:{start:e.ClockInitTime,end:new Date}},headers:{Authorization:"Bearer "+localStorage.AccessKey}}).then(function(e){}).catch(function(e){console.log(o()(e,null,2))})}).catch(function(e){console.log(e)}))}).catch(function(e){console.log(o()(e,null,2))})},getClockTime:function(){var e=this;i({method:"get",url:"http://localhost:4000/api/clocks/"+localStorage.IdUser,headers:{Authorization:"Bearer "+localStorage.AccessKey}}).then(function(t){if(1==t.data.data[0].status){e.ClockState=1,e.ClockInitTime=t.data.data[0].time;var a=setInterval(function(){e.refreshClockDifference(),1!=e.ClockState&&clearInterval(a)},1e3)}else e.ClockState=0}).catch(function(e){console.log(o()(e,null,2))})},refreshClockDifference:function(){var e=l(this.ClockInitTime,new Date,"H m S");this.ClockTime=e.hours+"h "+e.minutes+"m "+e.seconds+"s"}}},u={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",{staticClass:"clock-manager",attrs:{"xmlns:v-on":"http://www.w3.org/1999/xhtml"}},[a("div",{staticClass:"manage_single_clock"},[1==this.ClockState?a("div",[a("b",[e._v("CLOCK STARTED")]),e._v(" "),a("br"),e._v("\n            "+e._s(e.ClockTime)+"\n        ")]):e._e(),e._v(" "),a("div",{staticClass:"button_cont",attrs:{align:"center"},on:{click:e.useClock}},[0==this.ClockState?a("a",{staticClass:"example_e start_clock",attrs:{target:"_blank",rel:"nofollow noopener"}},[a("span",[e._v("START CLOCK")])]):e._e(),e._v(" "),1==this.ClockState?a("a",{staticClass:"example_e stop_clock",attrs:{target:"_blank",rel:"nofollow noopener"}},[a("span",[e._v("STOP CLOCK")])]):e._e()])]),e._v(" "),"3"!=this.Role?a("div",{staticClass:"flex-container"},[a("h1",[e._v("CLOCKS LIST")]),e._v(" "),a("p",[e._v("Click on items to reach their user's pages")]),e._v(" "),a("table",[e._m(0),e._v(" "),e._l(e.dataBack,function(t,s){return a("tr",[a("td",[e._v(e._s(t.id))]),e._v(" "),a("td",[e._v(e._s(t.username))]),e._v(" "),a("td",[e._v(e._s(e.moment(t.time).format("DD MMMM YYYY, h:mm:ss a")))]),e._v(" "),a("td",[e._v(e._s(t.status))])])})],2)]):e._e()])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("tr",[t("th",[this._v("Id")]),this._v(" "),t("th",[this._v("Id User")]),this._v(" "),t("th",[this._v("Time")]),this._v(" "),t("th",[this._v("Status")])])}]};var d=a("VU/8")(c,u,!1,function(e){a("jhoz")},"data-v-069e68c1",null).exports,m=a("iINK"),h=a("mtWM"),p=a.n(h),v={name:"chart-manager",components:{LineChart:m.LineChart,BarChart:m.BarChart},props:[],data:function(){return{user_ID:"",startTime:"",endTime:"",lineData:[],xkey:"lineDay",ykeys:[],labels:[],lineColors:[],xlabelangle:"90",xLabels:"day",xLabelFormat:function(e){return e.toDateString()},startTimeBar:"",endTimeBar:"",barData:[],xkeyBar:"barWeek",ykeysBar:[],labelsBar:[],barColors:[],xlabelangleBar:"90",xLabelsBar:"day",xLabelFormatBar:function(e){return e.toDateString()}}},computed:{},mounted:function(){this.user_ID=localStorage.IdUser,this.setLineChart(),this.setBarChart()},methods:{pad:function(e){var t=e;return e<10&&(t="0"+e),t},getWeekNumber:function(e){(e=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate()))).setUTCDate(e.getUTCDate()+4-(e.getUTCDay()||7));var t=new Date(Date.UTC(e.getUTCFullYear(),0,1));return Math.ceil(((e-t)/864e5+1)/7)},setBarChart:function(){var e=this;e.endTimeBar=new Date,e.startTimeBar=new Date((new Date).getFullYear(),0,1);var t=e.startTimeBar.getFullYear()+"-"+e.pad(e.startTimeBar.getMonth()+1)+"-"+e.pad(e.startTimeBar.getDate())+"+00:00:00",a=e.endTimeBar.getFullYear()+"-"+e.pad(e.endTimeBar.getMonth()+1)+"-"+e.pad(e.endTimeBar.getDate())+"+"+e.pad(e.endTimeBar.getHours())+":"+e.pad(e.endTimeBar.getMinutes())+":"+e.pad(e.endTimeBar.getSeconds());console.log(t),console.log(a),p()({method:"get",url:"http://localhost:4000/api/workingtimes/"+e.user_ID+"?start="+t+"&end="+a,headers:{Authorization:"Bearer "+localStorage.AccessKey}}).then(function(t){var a,s,n=t.data.data,r=0;for(r=0;r<n.length;r++)r>0&&e.getWeekNumber(new Date(n[r].start))==e.getWeekNumber(new Date(n[r-1].start))?(a+=Math.abs(new Date(n[r].end)-new Date(n[r].start))/36e5,e.barData.pop()):a=Math.abs(new Date(n[r].end)-new Date(n[r].start))/36e5,s={barWeek:"Week "+e.getWeekNumber(new Date(n[r].start)),a:a},e.barData.push(s);e.ykeysBar.push("a"),e.labelsBar.push("Working Time"),e.barColors.push("#FF6384"),console.log("BARCHART C ICI"),console.log(e.barData)}).catch(function(e){console.log(e)})},setLineChart:function(){var e=this;e.endTime=new Date,e.startTime=new Date,e.startTime.setDate(e.startTime.getDate()-7);var t=e.startTime.getFullYear()+"-"+e.pad(e.startTime.getMonth()+1)+"-"+e.pad(e.startTime.getDate())+"+00:00:00",a=e.endTime.getFullYear()+"-"+e.pad(e.endTime.getMonth()+1)+"-"+e.pad(e.endTime.getDate())+"+"+e.pad(e.endTime.getHours())+":"+e.pad(e.endTime.getMinutes())+":"+e.pad(e.endTime.getSeconds());p()({method:"get",url:"http://localhost:4000/api/workingtimes/"+e.user_ID+"?start="+t+"&end="+a,headers:{Authorization:"Bearer "+localStorage.AccessKey}}).then(function(t){var a,s,n=t.data.data,r=0;for(r=0;r<n.length;r++)r>0&&n[r].start.substring(0,10)==n[r-1].start.substring(0,10)?(a+=Math.abs(new Date(n[r].end)-new Date(n[r].start))/36e5,e.lineData.pop()):a=Math.abs(new Date(n[r].end)-new Date(n[r].start))/36e5,s={lineDay:n[r].start.substring(0,10).toString(),a:a},e.lineData.push(s);e.ykeys.push("a"),e.labels.push("Working Time"),e.lineColors.push("#FF6384")}).catch(function(e){console.log(e)})}}},f={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",{staticClass:"chart-manager"},[a("h1",[e._v("Dashboard")]),e._v(" "),a("div",[a("h3",[e._v("Working time per day")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.startTime,expression:"startTime"}],staticClass:"field-long",attrs:{type:"date",name:"field3",placeholder:"Start date"},domProps:{value:e.startTime},on:{input:function(t){t.target.composing||(e.startTime=t.target.value)}}}),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.endTime,expression:"endTime"}],staticClass:"field-long",attrs:{type:"date",name:"field3",placeholder:"End date"},domProps:{value:e.endTime},on:{input:function(t){t.target.composing||(e.endTime=t.target.value)}}}),e._v(" "),a("line-chart",{attrs:{id:"line",data:e.lineData,colors:e.lineColors,xkey:e.xkey,ykeys:e.ykeys,labels:e.labels,"x-label-format":e.xLabelFormat,xLabels:e.xLabels,xLabelAngle:e.xlabelangle,hideOver:!0,resize:!0}})],1),e._v(" "),a("div",[a("h3",[e._v("Working time per week")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.startTimeBar,expression:"startTimeBar"}],staticClass:"field-long",attrs:{type:"date",name:"field3",placeholder:"Start date"},domProps:{value:e.startTimeBar},on:{input:function(t){t.target.composing||(e.startTimeBar=t.target.value)}}}),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.endTimeBar,expression:"endTimeBar"}],staticClass:"field-long",attrs:{type:"date",name:"field3",placeholder:"End date"},domProps:{value:e.endTimeBar},on:{input:function(t){t.target.composing||(e.endTimeBar=t.target.value)}}}),e._v(" "),a("bar-chart",{attrs:{id:"bar",data:e.barData,colors:e.barColors,xkey:e.xkeyBar,ykeys:e.ykeysBar,labels:e.labelsBar,xLabels:e.xLabelsBar,xLabelAngle:e.xlabelangleBar,hideOver:!0,resize:!0}})],1),e._v(" "),a("div",[a("h3",[e._v("Working time per month")]),e._v(" "),a("bar-chart",{attrs:{id:"bar",data:e.donutData,colors:e.donutColors,xkey:e.xkeyDonut,ykeys:e.ykeysDonut,labels:e.labelsDonut,xLabels:e.xLabelsBar,xLabelAngle:e.xlabelangleBar,hideOver:!0,resize:!0}})],1)])},staticRenderFns:[]};var _=a("VU/8")(v,f,!1,function(e){a("0tBY")},"data-v-d0c3f33e",null).exports,g={name:"working-time",components:{},props:[],data:function(){return{userID:this.$route.params.userID,dataBack:"",role:""}},computed:{},mounted:function(){localStorage.Role&&(this.role=localStorage.Role);var e=this;console.log("test"),console.log(this.$parent.$parent.Role),""!=this.$parent.$parent.Role&&1!=this.$parent.$parent.Role?p.a.get("http://localhost:4000/api/workingtimes/"+this.$route.params.userID,{params:{start:"",end:""},headers:{Authorization:"Bearer "+localStorage.AccessKey}}).then(function(t){e.dataBack=t.data.data}).catch(function(e){console.log(o()(e,null,2))}):""!=this.$parent.$parent.Role&&1==this.$parent.$parent.Role&&p.a.get("http://localhost:4000/api/workingtimes/"+this.$parent.$parent.IdUser,{params:{start:"",end:""},headers:{Authorization:"Bearer "+localStorage.AccessKey}}).then(function(t){e.dataBack=t.data.data}).catch(function(e){console.log(o()(e,null,2))})},methods:{createWorkingTime:function(){this.$router.push("/working-times/"+this.userID+"/create")},updateWorkingTime:function(e,t){this.$router.push("/working-times/"+this.userID+"/edit/"+e+"&"+t)},deleteWorkingTime:function(e){p.a.delete("http://localhost:4000/api/workingtimes/"+e,{headers:{Authorization:"Bearer "+localStorage.AccessKey}}).then(function(e){document.location.reload(!0)}).catch(function(e){console.log(o()(e,null,2))})},popupDelete:function(e){var t=this;this.$modal.show("dialog",{title:"Confirmation",text:"Are you sure you want to delete this working time ?",buttons:[{title:"Delete",handler:function(){t.deleteWorkingTime(e)}},{title:"Close"}]})}}},k={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",{staticClass:"working-time",attrs:{"xmlns:v-on":"http://www.w3.org/1999/xhtml"}},[a("div",{staticClass:"flex-container"},[a("v-dialog"),e._v(" "),a("table",[a("tr",[a("th",[e._v("Id")]),e._v(" "),a("th",[e._v("Start Time")]),e._v(" "),a("th",[e._v("End Time")]),e._v(" "),3!=e.role?a("th",[e._v("Edit")]):e._e(),e._v(" "),3!=e.role?a("th",[e._v("Delete")]):e._e()]),e._v(" "),e._l(e.dataBack,function(t,s){return a("tr",[a("td",[e._v(e._s(t.id))]),e._v(" "),a("td",[e._v(e._s(e.moment(t.start).format("DD MMMM YYYY, h:mm:ss a")))]),e._v(" "),a("td",[e._v(e._s(e.moment(t.end).format("DD MMMM YYYY, h:mm:ss a")))]),e._v(" "),3!=e.role?a("td",[a("span",{staticClass:"click-link",on:{click:function(a){return e.updateWorkingTime(t.start,t.end)}}},[e._v("Edit")])]):e._e(),e._v(" "),3!=e.role?a("td",[a("span",{staticClass:"click-link",on:{click:function(a){return e.popupDelete(t.id)}}},[e._v("Delete")])]):e._e()])})],2)],1)])},staticRenderFns:[]};var w=a("VU/8")(g,k,!1,function(e){a("Tmpv")},"data-v-cf690944",null).exports,C={name:"working-times",components:{WorkingTime:w},props:[],data:function(){return{dataBack:"",dataUser:"",userDisplay:!1}},computed:{},mounted:function(){var e=a("mtWM"),t=this;e({method:"get",url:"http://localhost:4000/api/users",headers:{Authorization:"Bearer "+localStorage.AccessKey}}).then(function(e){t.dataUser=e.data.data}).catch(function(e){console.log(o()(e,null,2))}),e.get("http://localhost:4000/api/workingtimes",{params:{start:"",end:""},headers:{Authorization:"Bearer "+localStorage.AccessKey}}).then(function(a){a.data.data.forEach(function(t,s){a.data.data[s].username="",e.get("http://localhost:4000/api/users/"+t.user,{params:{start:"",end:""},headers:{Authorization:"Bearer "+localStorage.AccessKey}}).then(function(e){a.data.data[s].username=e.data.data.username}).catch(function(e){console.log(o()(e,null,2))})}),t.dataBack=a.data.data}).catch(function(e){console.log(o()(e,null,2))})},methods:{redirectWorkingTime:function(e){this.$router.push("/working-times/"+e)},displayUsers:function(){this.userDisplay=!0}}},y={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",{staticClass:"working-times"},[1!=e.$parent.Role?a("div",{staticClass:"flex-container"},[a("h1",[e._v("USER LIST")]),e._v(" "),e.userDisplay?e._e():a("div",{staticClass:"wts_to_hide_users",on:{click:function(t){return e.displayUsers()}}},[e._v("\n          Click here to display Users\n      ")]),e._v(" "),e.userDisplay?a("table",[e._m(0),e._v(" "),e._l(e.dataUser,function(t,s){return a("tr",{on:{click:function(a){return e.redirectWorkingTime(t.id)}}},[a("td",[e._v(e._s(t.id))]),e._v(" "),a("td",[e._v(e._s(t.username))]),e._v(" "),a("td",[e._v(e._s(t.email))])])})],2):e._e(),e._v(" "),a("br"),e._v(" "),a("h1",[e._v("WORKING TIMES LIST")]),e._v(" "),a("p",[e._v("Click on items to reach their user's pages")]),e._v(" "),a("table",[e._m(1),e._v(" "),e._l(e.dataBack,function(t,s){return a("tr",{on:{click:function(a){return e.redirectWorkingTime(t.user)}}},[a("td",[e._v(e._s(t.id))]),e._v(" "),a("td",[e._v(e._s(t.username))]),e._v(" "),a("td",[e._v(e._s(e.moment(t.start).format("DD MMMM YYYY, h:mm:ss a")))]),e._v(" "),a("td",[e._v(e._s(e.moment(t.end).format("DD MMMM YYYY, h:mm:ss a")))])])})],2)]):e._e(),e._v(" "),1==e.$parent.Role?a("WorkingTime",{staticClass:"userInterface"}):e._e()],1)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("tr",[t("th",[this._v("Id User")]),this._v(" "),t("th",[this._v("Username")]),this._v(" "),t("th",[this._v("Email")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("tr",[t("th",[this._v("Id")]),this._v(" "),t("th",[this._v("Id User")]),this._v(" "),t("th",[this._v("Start Time")]),this._v(" "),t("th",[this._v("End Time")])])}]};var j=a("VU/8")(C,y,!1,function(e){a("L+b5")},"data-v-40dedb64",null).exports,b={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",{staticClass:"working-time-edit"},[a("div",{staticClass:"flex-container"},[a("form",{staticClass:"flex-container",on:{submit:function(e){return e.preventDefault(),(!1)(e)}}},[a("label",[e._v("Start time")]),e._v(" "),a("datetime",{staticClass:"flex-container",attrs:{type:"datetime",required:""},model:{value:e.start,callback:function(t){e.start=t},expression:"start"}}),e._v(" "),a("label",[e._v("End time")]),e._v(" "),a("datetime",{staticClass:"flex-container",attrs:{type:"datetime",required:""},model:{value:e.end,callback:function(t){e.end=t},expression:"end"}}),e._v(" "),a("button",{attrs:{type:"submit"},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.createWorkingTime()}}},[e._v("Create")])],1)])])},staticRenderFns:[]};var x=a("VU/8")({name:"working-time-edit",components:{},props:[],data:function(){return{userID:this.$route.params.userID,start:this.$route.params.start,end:this.$route.params.end}},computed:{},mounted:function(){},methods:{}},b,!1,function(e){a("TtV6")},"data-v-6dfa2372",null).exports,D={name:"registration",components:{},props:[],data:function(){return{pseudo:"",email:"",password:"",role:""}},computed:{},mounted:function(){},methods:{submit:function(){this.RegisterUser().then(this.redirection)},RegisterUser:function(){var e=this;return p()({method:"post",url:"http://localhost:4000/api/users",data:{user:{username:this.pseudo,email:this.email,password:this.password,role_id:this.role}},headers:{Authorization:"Bearer "+localStorage.AccessKey}}).then(function(t){e.$parent.$modal.close()}).catch(function(e){console.log(e)})}}},T={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",{staticClass:"registration",attrs:{"xmlns:v-on":"http://www.w3.org/1999/xhtml"}},[a("form",{on:{submit:function(t){return t.preventDefault(),e.submit()}}},[a("ul",{staticClass:"form-style-1"},[a("li",[e._m(0),a("input",{directives:[{name:"model",rawName:"v-model",value:e.pseudo,expression:"pseudo"}],staticClass:"field-divided",attrs:{type:"text",name:"field1",placeholder:"Pseudo"},domProps:{value:e.pseudo},on:{input:function(t){t.target.composing||(e.pseudo=t.target.value)}}}),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],staticClass:"field-divided",attrs:{type:"email",name:"field2",placeholder:"Email"},domProps:{value:e.email},on:{input:function(t){t.target.composing||(e.email=t.target.value)}}})]),e._v(" "),a("li",[e._m(1),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],staticClass:"field-long",attrs:{type:"password",name:"field3"},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}})]),e._v(" "),a("li",[e._m(2),e._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:e.role,expression:"role"}],staticClass:"field-long",attrs:{id:"pet-select"},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.role=t.target.multiple?a:a[0]}}},[a("option",{attrs:{value:"3",selected:"selected"}},[e._v("Employee")]),e._v(" "),a("option",{attrs:{value:"2"}},[e._v("Manager")]),e._v(" "),a("option",{attrs:{value:"1"}},[e._v("Administrator")])])]),e._v(" "),e._m(3)])])])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("label",[this._v("Pseudo / Email"),t("span",{staticClass:"required"},[this._v("*")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("label",[this._v("Password "),t("span",{staticClass:"required"},[this._v("*")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("label",[this._v("Role "),t("span",{staticClass:"required"},[this._v("*")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("li",[t("input",{attrs:{type:"submit",value:"Submit"}})])}]};var S=a("VU/8")(D,T,!1,function(e){a("TVL7")},"data-v-1b441372",null).exports,U={name:"users",components:{Registration:S},props:[],data:function(){return{dataBack:"",userRole:""}},computed:{},mounted:function(){localStorage.Role&&(this.userRole=localStorage.Role);var e=this;p()({method:"get",url:"http://localhost:4000/api/users",headers:{Authorization:"Bearer "+localStorage.AccessKey}}).then(function(t){console.log(o()(t,null,2)),e.dataBack=t.data.data}).catch(function(e){console.log(o()(e,null,2))})},methods:{displayCreate:function(){this.$modal.show(S,{text:""})},popupDelete:function(e){var t=this;this.$modal.show("dialog",{title:"Confirmation",text:"Are you sure you want to delete this user ?",buttons:[{title:"Delete",handler:function(){t.deleteUser(e)}},{title:"Close"}]})},createUser:function(){this.$router.push({name:"create-user"})},editUser:function(e){this.$router.push({path:"/user/edit-user/"+e})},deleteUser:function(e){p()({method:"delete",url:"http://localhost:4000/api/users/"+e,headers:{Authorization:"Bearer "+localStorage.AccessKey}}).then(function(e){document.location.reload(!0)}).catch(function(e){console.log(o()(e,null,2))})}}},B={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",{staticClass:"users",attrs:{"xmlns:v-on":"http://www.w3.org/1999/xhtml"}},[1==e.userRole?a("div",{staticClass:"flex-container"},[a("button",{on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.displayCreate()}}},[e._v("Create a new user")])]):e._e(),e._v(" "),a("v-dialog"),e._v(" "),a("modals-container"),e._v(" "),a("div",{staticClass:"flex-container"},[a("table",[a("tr",[a("th",[e._v("Id")]),e._v(" "),a("th",[e._v("Username")]),e._v(" "),a("th",[e._v("Email")]),e._v(" "),a("th",[e._v("Role")]),e._v(" "),1==e.userRole?a("th"):e._e(),e._v(" "),1==e.userRole?a("th"):e._e()]),e._v(" "),e._l(e.dataBack,function(t,s){return a("tr",[a("td",[e._v(e._s(t.id))]),e._v(" "),a("td",[e._v(e._s(t.username))]),e._v(" "),a("td",[e._v(e._s(t.email))]),e._v(" "),a("td",[e._v(e._s(t.role))]),e._v(" "),1==e.userRole?a("td",[a("span",{staticClass:"click-link",on:{click:function(a){return e.editUser(t.id)}}},[e._v("Edit")])]):e._e(),e._v(" "),1==e.userRole?a("td",[a("span",{staticClass:"click-link",on:{click:function(a){return e.popupDelete(t.id)}}},[e._v("Delete")])]):e._e()])})],2)])],1)},staticRenderFns:[]};var I=a("VU/8")(U,B,!1,function(e){a("072Y")},"data-v-8d63be16",null).exports,E={name:"EDIT",components:{},props:{id:String},data:function(){return{username:"",email:"",password:"",role:"",userRole:""}},computed:{},mounted:function(){var e=this.id;this.$route.params.userID&&(e=this.$route.params.userID),""==e&&(e=localStorage.IdUser),localStorage.Role&&(this.role=localStorage.Role);var t=this;p()({method:"get",url:"http://localhost:4000/api/users/"+e,headers:{Authorization:"Bearer "+localStorage.AccessKey}}).then(function(e){t.username=e.data.data.username,t.email=e.data.data.email}).catch(function(e){console.log(o()(e,null,2))})},methods:{submit:function(){this.updateUser()},updateUser:function(){var e=this.id,t=this;return this.$route.params.userID&&(e=this.$route.params.userID),""==e&&(e=localStorage.IdUser),localStorage.Role&&(this.role=localStorage.Role),p()({method:"put",url:"http://localhost:4000/api/users/"+e,data:{user:{username:t.username,email:t.email,password:t.password}},headers:{Authorization:"Bearer "+localStorage.AccessKey}}).then(function(e){localStorage.Username=t.username,localStorage.Email=t.email,localStorage.Role=t.role,t.$modal.show("dialog",{title:"Confirmation",text:"Successfully modified user informations",buttons:[{title:"Close"}]}),t.password=""}).catch(function(e){console.log(e)})}}},A={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",{staticClass:"edit-user",attrs:{"xmlns:v-on":"http://www.w3.org/1999/xhtml"}},[a("link",{attrs:{href:"https://fonts.googleapis.com/css?family=Arvo&display=swap",rel:"stylesheet"}}),e._v(" "),a("div",{staticClass:"flex-container"},[a("v-dialog"),e._v(" "),e._m(0),e._v(" "),a("form",{on:{submit:function(t){return t.preventDefault(),e.submit()}}},[a("div",{staticClass:"flex-container"},[a("label",[e._v("Username")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.username,expression:"username"}],attrs:{type:"text"},domProps:{value:e.username},on:{input:function(t){t.target.composing||(e.username=t.target.value)}}})]),e._v(" "),a("div",{staticClass:"flex-container"},[a("label",[e._v("Email")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],attrs:{type:"text"},domProps:{value:e.email},on:{input:function(t){t.target.composing||(e.email=t.target.value)}}})]),e._v(" "),a("div",{staticClass:"flex-container"},[a("label",[e._v("Password")]),e._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],attrs:{type:"password"},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}})]),e._v(" "),e._m(1)])],1)])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("h1",[this._v("EDIT USER")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"flex-container"},[t("button",{attrs:{type:"submit"}},[this._v("Edit")])])}]};var R=a("VU/8")(E,A,!1,function(e){a("qW87")},"data-v-5474b251",null).exports,z={name:"user-menu",components:{EditUser:R,Users:I},props:[],data:function(){return{userId:"",currentPart:"1"}},computed:{},mounted:function(){localStorage.IdUser&&(this.userId=localStorage.IdUser);var e=this;$(".user_menu_left ul li").on("click",function(){$(".selected").removeClass("selected"),$(this).addClass("selected"),e.currentPart=$(this).data("id")})},methods:{}},M={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",{staticClass:"user-menu"},[a("link",{attrs:{href:"https://fonts.googleapis.com/css?family=Noto+Sans+TC&display=swap",rel:"stylesheet"}}),e._v(" "),a("v-dialog"),e._v(" "),e._m(0),e._v(" "),a("div",{staticClass:"user_interface_right"},[1==this.currentPart?a("div",{staticClass:"selected edit_account"},[a("EditUser",{attrs:{id:e.userId}})],1):e._e(),e._v(" "),2==this.currentPart?a("div",{staticClass:"selected edit_account"},[a("Users",{attrs:{id:e.userId}})],1):e._e(),e._v(" "),3==this.currentPart?a("div",{staticClass:"selected edit_account"},[e._v("\n        Not available\n    ")]):e._e()])],1)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"user_menu_left"},[t("ul",[t("li",{staticClass:"selected",attrs:{"data-id":"1"}},[this._v("EDIT ACCOUNT")]),this._v(" "),t("li",{attrs:{"data-id":"2"}},[this._v("MANAGE USERS")]),this._v(" "),t("li",{attrs:{"data-id":"3"}},[this._v("MANAGE TEAMS")])])])}]};var K=a("VU/8")(z,M,!1,function(e){a("0WH+")},"data-v-40ac3587",null).exports;s.a.use(n.a);t.a=new n.a({routes:[{path:"/clock-manager",name:"clock-manager",component:d},{path:"/chart-manager",name:"chart-manager",component:_},{path:"/working-times",name:"working-times",component:j},{path:"/working-times/:userID",name:"working-time",component:w},{path:"/working-times/:userID/edit/:start&:end",name:"working-time-user-edit",component:x},{path:"/user",name:"UserMenu",component:K},{path:"/user/edit-user/:userID",name:"edit-user",component:R}]})},jhoz:function(e,t){},qW87:function(e,t){},suTU:function(e,t){},uslO:function(e,t,a){var s={"./af":"3CJN","./af.js":"3CJN","./ar":"3MVc","./ar-dz":"tkWw","./ar-dz.js":"tkWw","./ar-kw":"j8cJ","./ar-kw.js":"j8cJ","./ar-ly":"wPpW","./ar-ly.js":"wPpW","./ar-ma":"dURR","./ar-ma.js":"dURR","./ar-sa":"7OnE","./ar-sa.js":"7OnE","./ar-tn":"BEem","./ar-tn.js":"BEem","./ar.js":"3MVc","./az":"eHwN","./az.js":"eHwN","./be":"3hfc","./be.js":"3hfc","./bg":"lOED","./bg.js":"lOED","./bm":"hng5","./bm.js":"hng5","./bn":"aM0x","./bn.js":"aM0x","./bo":"w2Hs","./bo.js":"w2Hs","./br":"OSsP","./br.js":"OSsP","./bs":"aqvp","./bs.js":"aqvp","./ca":"wIgY","./ca.js":"wIgY","./cs":"ssxj","./cs.js":"ssxj","./cv":"N3vo","./cv.js":"N3vo","./cy":"ZFGz","./cy.js":"ZFGz","./da":"YBA/","./da.js":"YBA/","./de":"DOkx","./de-at":"8v14","./de-at.js":"8v14","./de-ch":"Frex","./de-ch.js":"Frex","./de.js":"DOkx","./dv":"rIuo","./dv.js":"rIuo","./el":"CFqe","./el.js":"CFqe","./en-SG":"oYA3","./en-SG.js":"oYA3","./en-au":"Sjoy","./en-au.js":"Sjoy","./en-ca":"Tqun","./en-ca.js":"Tqun","./en-gb":"hPuz","./en-gb.js":"hPuz","./en-ie":"ALEw","./en-ie.js":"ALEw","./en-il":"QZk1","./en-il.js":"QZk1","./en-nz":"dyB6","./en-nz.js":"dyB6","./eo":"Nd3h","./eo.js":"Nd3h","./es":"LT9G","./es-do":"7MHZ","./es-do.js":"7MHZ","./es-us":"INcR","./es-us.js":"INcR","./es.js":"LT9G","./et":"XlWM","./et.js":"XlWM","./eu":"sqLM","./eu.js":"sqLM","./fa":"2pmY","./fa.js":"2pmY","./fi":"nS2h","./fi.js":"nS2h","./fo":"OVPi","./fo.js":"OVPi","./fr":"tzHd","./fr-ca":"bXQP","./fr-ca.js":"bXQP","./fr-ch":"VK9h","./fr-ch.js":"VK9h","./fr.js":"tzHd","./fy":"g7KF","./fy.js":"g7KF","./ga":"U5Iz","./ga.js":"U5Iz","./gd":"nLOz","./gd.js":"nLOz","./gl":"FuaP","./gl.js":"FuaP","./gom-latn":"+27R","./gom-latn.js":"+27R","./gu":"rtsW","./gu.js":"rtsW","./he":"Nzt2","./he.js":"Nzt2","./hi":"ETHv","./hi.js":"ETHv","./hr":"V4qH","./hr.js":"V4qH","./hu":"xne+","./hu.js":"xne+","./hy-am":"GrS7","./hy-am.js":"GrS7","./id":"yRTJ","./id.js":"yRTJ","./is":"upln","./is.js":"upln","./it":"FKXc","./it-ch":"/E8D","./it-ch.js":"/E8D","./it.js":"FKXc","./ja":"ORgI","./ja.js":"ORgI","./jv":"JwiF","./jv.js":"JwiF","./ka":"RnJI","./ka.js":"RnJI","./kk":"j+vx","./kk.js":"j+vx","./km":"5j66","./km.js":"5j66","./kn":"gEQe","./kn.js":"gEQe","./ko":"eBB/","./ko.js":"eBB/","./ku":"kI9l","./ku.js":"kI9l","./ky":"6cf8","./ky.js":"6cf8","./lb":"z3hR","./lb.js":"z3hR","./lo":"nE8X","./lo.js":"nE8X","./lt":"/6P1","./lt.js":"/6P1","./lv":"jxEH","./lv.js":"jxEH","./me":"svD2","./me.js":"svD2","./mi":"gEU3","./mi.js":"gEU3","./mk":"Ab7C","./mk.js":"Ab7C","./ml":"oo1B","./ml.js":"oo1B","./mn":"CqHt","./mn.js":"CqHt","./mr":"5vPg","./mr.js":"5vPg","./ms":"ooba","./ms-my":"G++c","./ms-my.js":"G++c","./ms.js":"ooba","./mt":"oCzW","./mt.js":"oCzW","./my":"F+2e","./my.js":"F+2e","./nb":"FlzV","./nb.js":"FlzV","./ne":"/mhn","./ne.js":"/mhn","./nl":"3K28","./nl-be":"Bp2f","./nl-be.js":"Bp2f","./nl.js":"3K28","./nn":"C7av","./nn.js":"C7av","./pa-in":"pfs9","./pa-in.js":"pfs9","./pl":"7LV+","./pl.js":"7LV+","./pt":"ZoSI","./pt-br":"AoDM","./pt-br.js":"AoDM","./pt.js":"ZoSI","./ro":"wT5f","./ro.js":"wT5f","./ru":"ulq9","./ru.js":"ulq9","./sd":"fW1y","./sd.js":"fW1y","./se":"5Omq","./se.js":"5Omq","./si":"Lgqo","./si.js":"Lgqo","./sk":"OUMt","./sk.js":"OUMt","./sl":"2s1U","./sl.js":"2s1U","./sq":"V0td","./sq.js":"V0td","./sr":"f4W3","./sr-cyrl":"c1x4","./sr-cyrl.js":"c1x4","./sr.js":"f4W3","./ss":"7Q8x","./ss.js":"7Q8x","./sv":"Fpqq","./sv.js":"Fpqq","./sw":"DSXN","./sw.js":"DSXN","./ta":"+7/x","./ta.js":"+7/x","./te":"Nlnz","./te.js":"Nlnz","./tet":"gUgh","./tet.js":"gUgh","./tg":"5SNd","./tg.js":"5SNd","./th":"XzD+","./th.js":"XzD+","./tl-ph":"3LKG","./tl-ph.js":"3LKG","./tlh":"m7yE","./tlh.js":"m7yE","./tr":"k+5o","./tr.js":"k+5o","./tzl":"iNtv","./tzl.js":"iNtv","./tzm":"FRPF","./tzm-latn":"krPU","./tzm-latn.js":"krPU","./tzm.js":"FRPF","./ug-cn":"To0v","./ug-cn.js":"To0v","./uk":"ntHu","./uk.js":"ntHu","./ur":"uSe8","./ur.js":"uSe8","./uz":"XU1s","./uz-latn":"/bsm","./uz-latn.js":"/bsm","./uz.js":"XU1s","./vi":"0X8Q","./vi.js":"0X8Q","./x-pseudo":"e/KL","./x-pseudo.js":"e/KL","./yo":"YXlc","./yo.js":"YXlc","./zh-cn":"Vz2w","./zh-cn.js":"Vz2w","./zh-hk":"ZUyn","./zh-hk.js":"ZUyn","./zh-tw":"BbgG","./zh-tw.js":"BbgG"};function n(e){return a(r(e))}function r(e){var t=s[e];if(!(t+1))throw new Error("Cannot find module '"+e+"'.");return t}n.keys=function(){return Object.keys(s)},n.resolve=r,e.exports=n,n.id="uslO"},yz1J:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.54346d135974e632e33d.js.map